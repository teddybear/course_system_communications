# Нулевая домашка выглядела так:

1. Очевидно, что мы будем менять коммуникации =) Границы сервисов в целом пока вопросов не вызывают, осталось определить, что и как менять.

2. По проблемам:

    1. Одно из первых очевидных мест — HTTP-запрос за информацией о менеджерах на каждый чих, следует иметь свою модель менеджера в системе найма и бонусов, куда стримить CUD события при каких-либо изменениях. Это исправит (уберет) COMM-020, 030, 070, функциональность вызова назначения менеджера так же уедет в найм. CUD-события (хотя оно вообще строго говоря одно, но я не уверен, пусть будет два) соотв в найм и в расчеты пусть будут COMM-021 и COMM-022. Конкретные проблемы, которые это решит: P080, косвенно 090, 060 (я вообще не понимаю, как оно в такой логике должно скейлиться, ибо из-за упом. коммуникаций неизбежно тянет за собой остальные сервисы, т.е. там system-wide scale)

    2. Следующее — «финоп» запросы (COMM-040, 050, 080 и примкнувший к ним 060 на самом деле): первые три должны улетать в домен-ивентах и считаться уже на стороне сервиса балансов (два события: 040 и 050/задание выполнено кандидатом менеджера, 080/создано новое задание менеджером). Рейтинг задания стоит передавать либо сразу в событии («сделано такое-то тем-то, такого-то менеджера, рейтинг на момент события»), либо же можно подумать о втором способе, когда расчетный получает эту инфу синхронно в момент расчета у сервиса найма (тогда по идее события от найма можно вообще не получать, просто брать батчами «по-менеджерно», но это так, шальная мысль, будет скорее всего тормозить)

    3. 010 непонятно, как решается, почему долго неочевидно (мне сейчас так точно)

    4. 020 решается тем, что рейтинг и проверки должны храниться в сервисе найма как в источнике, и там же блокироваться видимо

    5. 030,040,050,060,070,080,090 (отчасти, а может и по большей части) фиксятся коммуникациями выше, 100 по идее тоже


# Рефлексия

В целом, опыт АА и АС дает о себе знать: фокус на связях и подозрительное отношение к синхронным запросам видны, однако, очевидно, что решение по нулевой домашке довольно сырое, т.к. делалось без сколько-нибудь углубленного анализа происходящего, отталкиваясь исключительно от требований, проблем и диаграммы связей.
Так что выбор так же в пользу финального решения =)
