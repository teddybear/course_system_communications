# Третья домашка

## Схемы событий

## Процессы миграции

### Sync -> ED Async (form)

1. Создадим topic `datarep.<topicname>`
2. Создадим консумер[ы], опишем схему, раскатим
3. Создадим продьюсер на стороне источника, раскатим под FF [^1]
4. Убедимся, что это работает
5. Переключим на асинхронную коммуникацию
6. Очистим код от синхронного вызова

### ED Async -> Sync (form)

1. Создадим API endpoint `/api/v0/epname`
2. Создадим логику вызова со стороны потребления
3. Убедимся, что это работает
4. Переключим на синхронную коммуникацию
5. Погасим продьюсер
6. После исчерпания топика, погасим консумеры.

### Sync -> ED Async (func)

1. Создадим topic `datarep.<topicname>`
2. Создадим консумер[ы], опишем схему, раскатим
3. Создадим продьюсер на стороне источника, раскатим под FF [^1]
4. Убедимся, что это работает
5. Переключим на асинхронную коммуникацию
6. Очистим код от синхронного вызова

### ED Async -> Sync (func)

1. Создадим API endpoint `/api/v0/epname`
2. Создадим логику вызова со стороны потребления
3. Убедимся, что это работает
4. Переключим на синхронную коммуникацию
5. Погасим продьюсер
6. После исчерпания топика, погасим консумеры.

## Миграция по новым требованиям

### US-160

### US-170


## Проблемы зачисления/списания

[^1]: Feature Flag